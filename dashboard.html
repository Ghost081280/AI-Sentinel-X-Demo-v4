<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard | AI Sentinel-X</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #00ff88;
            --secondary: #00ccff;
            --accent: #7c3aed;
            --danger: #ff0044;
            --warning: #ffaa00;
            --success: #00ff88;
            --bg-dark: #0a0e1a;
            --bg-darker: #060912;
            --bg-card: rgba(10, 20, 40, 0.8);
            --border: rgba(0, 255, 136, 0.2);
            --text-primary: #ffffff;
            --text-secondary: #8892b0;
            --gradient-1: linear-gradient(135deg, #00ff88 0%, #00ccff 100%);
            --gradient-2: linear-gradient(135deg, #7c3aed 0%, #00ccff 100%);
            --gradient-shield: linear-gradient(135deg, #1a4d2e 0%, #00ff88 50%, #00ccff 100%);
            --gradient-encryption: linear-gradient(135deg, #00ff88 0%, #00aa66 100%);
            --gradient-quantum: linear-gradient(135deg, #7c3aed 0%, #ff00ff 50%, #00ccff 100%);
            --gradient-hybrid: linear-gradient(135deg, #00ff88 0%, #7c3aed 50%, #00ccff 100%);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Consolas', 'Monaco', monospace;
            background: var(--bg-darker);
            color: var(--text-primary);
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* Neural Network Background Canvas */
        #neuralCanvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            opacity: 0.3;
        }

        /* Container */
        .container {
            position: relative;
            z-index: 1;
            max-width: 1800px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header with rounded bottom corners */
        .header {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 15px 15px 20px 20px;
            padding: 25px 35px;
            margin-bottom: 30px;
            backdrop-filter: blur(15px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 25px;
        }

        /* Logo */
        .logo-container {
            width: 80px;
            height: 80px;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo-shield {
            width: 50px;
            height: 50px;
            background: var(--gradient-shield);
            clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
            position: relative;
            animation: shieldPulse 4s ease-in-out infinite;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        @keyframes shieldPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.03); }
        }

        .logo-eye {
            position: absolute;
            width: 30px;
            height: 30px;
            background: var(--bg-darker);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo-iris {
            width: 20px;
            height: 20px;
            background: var(--gradient-1);
            border-radius: 50%;
            box-shadow: 0 0 10px rgba(0, 255, 136, 0.6);
        }

        .rotating-dots {
            position: absolute;
            width: 100%;
            height: 100%;
            animation: rotate 12s linear infinite;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .dot {
            position: absolute;
            width: 4px;
            height: 4px;
            background: var(--primary);
            border-radius: 50%;
            box-shadow: 0 0 4px var(--primary);
        }

        .dot:nth-child(1) { top: 0; left: 50%; transform: translateX(-50%); }
        .dot:nth-child(2) { top: 50%; right: 0; transform: translateY(-50%); }
        .dot:nth-child(3) { bottom: 0; left: 50%; transform: translateX(-50%); }

        .brand-info {
            display: flex;
            flex-direction: column;
        }

        .brand-name {
            font-size: 28px;
            font-weight: bold;
            letter-spacing: 2px;
            background: var(--gradient-1);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .brand-tagline {
            font-size: 14px;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .header-right {
            display: flex;
            gap: 20px;
            align-items: center;
        }

        /* Encryption Status Badges */
        .encryption-badges {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .encryption-badge {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 1px;
            border: 2px solid;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .encryption-badge.classical {
            background: rgba(0, 255, 136, 0.1);
            border-color: var(--primary);
            color: var(--primary);
        }

        .encryption-badge.quantum {
            background: rgba(124, 58, 237, 0.1);
            border-color: var(--accent);
            color: var(--accent);
        }

        .status-light {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            animation: statusPulse 3s ease-in-out infinite;
        }

        .status-light.active {
            background: var(--success);
            box-shadow: 0 0 8px var(--success);
        }

        .status-light.inactive {
            background: var(--danger);
            box-shadow: 0 0 8px var(--danger);
        }

        @keyframes statusPulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.8; transform: scale(1.1); }
        }

        .agent-status {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 12px 20px;
            background: rgba(0, 255, 136, 0.1);
            border: 1px solid var(--primary);
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .agent-status:hover {
            background: rgba(0, 255, 136, 0.15);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 255, 136, 0.2);
        }

        .agent-icon {
            font-size: 20px;
        }

        .agent-info {
            display: flex;
            flex-direction: column;
        }

        .agent-title {
            font-weight: bold;
            font-size: 14px;
            color: var(--primary);
        }

        .agent-status-text {
            font-size: 12px;
            color: var(--text-secondary);
        }

        .logout-btn {
            background: transparent;
            border: 1px solid rgba(255, 0, 68, 0.3);
            border-radius: 8px;
            padding: 10px 20px;
            color: var(--danger);
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .logout-btn:hover {
            background: rgba(255, 0, 68, 0.1);
            transform: translateY(-2px);
        }

        /* Navigation Tabs */
        .nav-tabs {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            background: var(--bg-card);
            padding: 12px;
            border-radius: 15px;
            border: 1px solid var(--border);
            overflow-x: auto;
            backdrop-filter: blur(15px);
        }

        .nav-tab {
            padding: 12px 24px;
            background: transparent;
            border: 1px solid transparent;
            border-radius: 10px;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
            text-transform: uppercase;
            font-size: 13px;
            letter-spacing: 1px;
            display: flex;
            align-items: center;
            gap: 10px;
            text-decoration: none;
        }

        .nav-tab:hover {
            background: rgba(0, 255, 136, 0.1);
            border-color: var(--border);
            color: var(--primary);
        }

        .nav-tab.active {
            background: var(--gradient-1);
            color: var(--bg-darker);
            font-weight: bold;
        }

        /* System Status Banner with Rounded Corners */
        .system-status-banner {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 20px;
            padding: 25px 35px;
            margin-bottom: 30px;
            backdrop-filter: blur(20px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            position: relative;
            overflow: hidden;
        }

        .system-status-banner::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 136, 0.1), transparent);
            animation: bannerScan 8s linear infinite;
        }

        @keyframes bannerScan {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .banner-content {
            position: relative;
            z-index: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 40px;
            flex-wrap: wrap;
        }

        .banner-stat {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 12px 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 25px;
            border: 1px solid rgba(0, 255, 136, 0.2);
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .banner-stat:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 255, 136, 0.2);
        }

        .banner-stat-icon {
            font-size: 24px;
            filter: drop-shadow(0 0 6px currentColor);
        }

        .banner-stat-content {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }

        .banner-stat-value {
            font-size: 18px;
            font-weight: bold;
            color: var(--primary);
            line-height: 1;
        }

        .banner-stat-label {
            font-size: 12px;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 1px;
            line-height: 1;
        }

        /* Dashboard Grid */
        .dashboard-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 25px;
            margin-bottom: 30px;
        }

        .left-column {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        .right-column {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        /* AI Agent Command Center */
        .agent-command-center {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 20px;
            padding: 25px;
            backdrop-filter: blur(15px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
        }

        .command-center-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border);
        }

        .command-center-title {
            font-size: 20px;
            font-weight: bold;
            color: var(--primary);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Main Agent Card */
        .main-agent-card {
            background: linear-gradient(135deg, rgba(0, 255, 136, 0.03) 0%, rgba(0, 204, 255, 0.02) 100%);
            border: 1px solid var(--primary);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .main-agent-card:hover {
            background: linear-gradient(135deg, rgba(0, 255, 136, 0.05) 0%, rgba(0, 204, 255, 0.03) 100%);
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 255, 136, 0.15);
        }

        .main-agent-content {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .main-agent-icon {
            font-size: 48px;
            filter: drop-shadow(0 0 6px var(--primary));
        }

        .main-agent-info {
            flex: 1;
        }

        .main-agent-name {
            font-size: 24px;
            font-weight: bold;
            color: var(--primary);
            margin-bottom: 8px;
        }

        .main-agent-description {
            font-size: 14px;
            color: var(--text-secondary);
            margin-bottom: 10px;
        }

        .main-agent-stats {
            display: flex;
            gap: 25px;
        }

        .agent-stat {
            text-align: center;
        }

        .stat-value {
            font-size: 18px;
            font-weight: bold;
            color: var(--primary);
        }

        .stat-label {
            font-size: 11px;
            color: var(--text-secondary);
            text-transform: uppercase;
        }

        /* Sub-Agents Section Header */
        .sub-agents-header {
            margin: 25px 0 15px 0;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border);
        }

        .sub-agents-title {
            font-size: 16px;
            font-weight: bold;
            color: var(--secondary);
            text-transform: uppercase;
            letter-spacing: 1px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .sub-agents-subtitle {
            font-size: 12px;
            color: var(--text-secondary);
            margin-top: 5px;
            font-style: italic;
        }

        /* Sub-Agents Grid */
        .sub-agents-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 15px;
        }

        .sub-agent-card {
            background: linear-gradient(135deg, rgba(0, 0, 0, 0.4) 0%, rgba(0, 255, 136, 0.01) 100%);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
        }

        .sub-agent-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 255, 136, 0.1);
            border-color: rgba(0, 255, 136, 0.3);
        }

        .sub-agent-card-content {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .sub-agent-card-icon {
            font-size: 32px;
            filter: drop-shadow(0 0 5px currentColor);
            min-width: 40px;
        }

        .sub-agent-card-info {
            flex: 1;
        }

        .sub-agent-card-name {
            font-weight: bold;
            font-size: 16px;
            color: var(--primary);
            margin-bottom: 5px;
        }

        .sub-agent-card-description {
            font-size: 12px;
            color: var(--text-secondary);
            margin-bottom: 8px;
        }

        .sub-agent-card-activity {
            font-size: 11px;
            color: var(--success);
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .activity-dot {
            width: 6px;
            height: 6px;
            background: var(--success);
            border-radius: 50%;
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.5; transform: scale(1.3); }
        }

        .sub-agent-manage-btn {
            position: absolute;
            top: 10px;
            right: 15px;
            background: rgba(0, 255, 136, 0.1);
            border: 1px solid var(--primary);
            border-radius: 6px;
            padding: 4px 8px;
            font-size: 10px;
            color: var(--primary);
            text-transform: uppercase;
            letter-spacing: 1px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .sub-agent-manage-btn:hover {
            background: var(--primary);
            color: var(--bg-darker);
        }

        /* Security Feed */
        .security-feed {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 20px;
            padding: 25px;
            height: 400px;
            display: flex;
            flex-direction: column;
            backdrop-filter: blur(15px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
        }

        .feed-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border);
        }

        .feed-title {
            font-size: 18px;
            font-weight: bold;
            color: var(--primary);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .live-indicator {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 12px;
            color: var(--danger);
            font-weight: bold;
        }

        .live-dot {
            width: 8px;
            height: 8px;
            background: var(--danger);
            border-radius: 50%;
            animation: pulse 2s ease-in-out infinite;
        }

        .feed-content {
            flex: 1;
            overflow-y: auto;
            padding-right: 10px;
        }

        .feed-item {
            background: rgba(0, 255, 136, 0.05);
            border-left: 3px solid var(--primary);
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 0 8px 8px 0;
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .feed-item.warning {
            background: rgba(255, 170, 0, 0.05);
            border-left-color: var(--warning);
        }

        .feed-item.danger {
            background: rgba(255, 0, 68, 0.05);
            border-left-color: var(--danger);
        }

        .feed-item.encryption {
            background: rgba(124, 58, 237, 0.05);
            border-left-color: var(--accent);
        }

        .feed-time {
            font-size: 11px;
            color: var(--text-secondary);
            margin-bottom: 5px;
        }

        .feed-message {
            font-size: 14px;
            line-height: 1.4;
        }

        .feed-agent {
            font-size: 11px;
            color: var(--accent);
            margin-top: 5px;
            font-style: italic;
        }

        /* Global Intelligence Network Module */
        .global-intel-module {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 20px;
            padding: 25px;
            backdrop-filter: blur(15px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            position: relative;
            overflow: hidden;
        }

        .global-intel-module::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(0, 204, 255, 0.02) 0%, rgba(124, 58, 237, 0.01) 50%, rgba(0, 255, 136, 0.02) 100%);
            animation: hqScan 10s linear infinite;
        }

        @keyframes hqScan {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .intel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border);
            position: relative;
            z-index: 1;
        }

        .intel-title {
            font-size: 18px;
            font-weight: bold;
            color: var(--secondary);
            text-transform: uppercase;
            letter-spacing: 1px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .intel-badge {
            font-size: 11px;
            color: var(--text-secondary);
            background: rgba(0, 204, 255, 0.1);
            padding: 4px 8px;
            border-radius: 12px;
            border: 1px solid rgba(0, 204, 255, 0.3);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .intel-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            position: relative;
            z-index: 1;
        }

        .intel-item {
            background: rgba(0, 204, 255, 0.05);
            border: 1px solid rgba(0, 204, 255, 0.2);
            border-radius: 12px;
            padding: 15px;
            display: flex;
            align-items: center;
            gap: 12px;
            transition: all 0.3s ease;
        }

        .intel-item:hover {
            background: rgba(0, 204, 255, 0.08);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 204, 255, 0.15);
        }

        .intel-icon {
            font-size: 20px;
            min-width: 24px;
            filter: drop-shadow(0 0 6px currentColor);
        }

        .intel-content {
            flex: 1;
        }

        .intel-label {
            font-weight: bold;
            color: var(--secondary);
            font-size: 14px;
            margin-bottom: 3px;
        }

        .intel-value {
            font-size: 12px;
            color: var(--text-secondary);
        }

        .intel-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            margin-left: auto;
            animation: pulse 3s ease-in-out infinite;
        }

        .intel-indicator.active {
            background: var(--success);
            box-shadow: 0 0 8px var(--success);
        }

        .intel-indicator.warning {
            background: var(--warning);
            box-shadow: 0 0 8px var(--warning);
        }

        /* Performance Modules - VPN-style Layout */
        .performance-modules {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .performance-module {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 20px;
            padding: 25px;
            backdrop-filter: blur(15px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .performance-module::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(0, 255, 136, 0.01) 0%, rgba(0, 204, 255, 0.01) 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .performance-module:hover::before {
            opacity: 1;
        }

        .performance-module:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 255, 136, 0.2);
        }

        .module-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border);
            position: relative;
            z-index: 1;
        }

        .module-title {
            font-size: 18px;
            font-weight: bold;
            color: var(--primary);
            text-transform: uppercase;
            letter-spacing: 1px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .module-icon {
            font-size: 24px;
            filter: drop-shadow(0 0 6px currentColor);
        }

        .module-status {
            font-size: 12px;
            padding: 4px 12px;
            border-radius: 15px;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: bold;
        }

        .module-status.optimal {
            background: rgba(0, 255, 136, 0.2);
            color: var(--success);
            border: 1px solid var(--success);
        }

        .module-status.warning {
            background: rgba(255, 170, 0, 0.2);
            color: var(--warning);
            border: 1px solid var(--warning);
        }

        .module-metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            position: relative;
            z-index: 1;
        }

        .metric-item {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 15px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .metric-item:hover {
            background: rgba(0, 255, 136, 0.05);
            border-color: rgba(0, 255, 136, 0.3);
        }

        .metric-value {
            font-size: 24px;
            font-weight: bold;
            color: var(--primary);
            margin-bottom: 5px;
            text-shadow: 0 0 10px currentColor;
        }

        .metric-label {
            font-size: 12px;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .metric-trend {
            font-size: 11px;
            margin-top: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 4px;
        }

        .trend-up {
            color: var(--success);
        }

        .trend-down {
            color: var(--danger);
        }

        .trend-stable {
            color: var(--text-secondary);
        }

        /* AI Chat Widget */
        .ai-chat-widget {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
        }

        .ai-chat-toggle {
            width: 60px;
            height: 60px;
            background: var(--gradient-1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 5px 20px rgba(0, 255, 136, 0.4);
            transition: all 0.3s ease;
            font-size: 28px;
            border: none;
            color: var(--bg-darker);
        }

        .ai-chat-toggle:hover {
            transform: scale(1.1);
        }

        .ai-chat-window {
            position: absolute;
            bottom: 80px;
            right: 0;
            width: 400px;
            height: 600px;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 20px;
            display: none;
            flex-direction: column;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(20px);
        }

        .ai-chat-window.active {
            display: flex;
            animation: chatSlideIn 0.3s ease;
        }

        @keyframes chatSlideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .ai-chat-header {
            background: var(--gradient-1);
            color: var(--bg-darker);
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: bold;
        }

        .ai-chat-status {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 14px;
        }

        .chat-status-dot {
            width: 8px;
            height: 8px;
            background: var(--bg-darker);
            border-radius: 50%;
            animation: pulse 2s ease-in-out infinite;
        }

        .ai-chat-close {
            cursor: pointer;
            font-size: 24px;
            background: none;
            border: none;
            color: var(--bg-darker);
        }

        .ai-chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .ai-message {
            display: flex;
            flex-direction: column;
        }

        .ai-message-bubble {
            background: rgba(0, 255, 136, 0.1);
            border: 1px solid var(--border);
            border-radius: 15px;
            padding: 15px 20px;
            max-width: 80%;
            word-wrap: break-word;
        }

        .ai-message-bubble.user {
            background: rgba(0, 204, 255, 0.1);
            border-color: var(--secondary);
            align-self: flex-end;
        }

        .ai-message-bubble.system {
            background: rgba(124, 58, 237, 0.1);
            border-color: var(--accent);
            font-size: 13px;
            font-style: italic;
        }

        .ai-message-time {
            font-size: 11px;
            color: var(--text-secondary);
            margin-top: 5px;
        }

        .ai-chat-input-container {
            padding: 20px;
            border-top: 1px solid var(--border);
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .ai-chat-input {
            flex: 1;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--border);
            border-radius: 10px;
            padding: 12px 15px;
            color: var(--text-primary);
            font-size: 14px;
        }

        .ai-chat-input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .ai-chat-input::placeholder {
            color: var(--text-secondary);
        }

        .ai-chat-send {
            background: var(--gradient-1);
            border: none;
            border-radius: 10px;
            padding: 12px 20px;
            color: var(--bg-darker);
            font-weight: bold;
            cursor: pointer;
            text-transform: uppercase;
        }

        /* CLI Mode Indicator */
        .cli-mode-indicator {
            background: rgba(255, 170, 0, 0.1);
            border: 1px solid var(--warning);
            border-radius: 8px;
            padding: 10px;
            margin-bottom: 15px;
            text-align: center;
            font-size: 12px;
            color: var(--warning);
            display: none;
        }

        .cli-mode-indicator.active {
            display: block;
        }

        /* Agent Shutdown Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            backdrop-filter: blur(5px);
        }

        .modal {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 20px;
            padding: 40px;
            max-width: 500px;
            width: 90%;
            backdrop-filter: blur(20px);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            animation: modalSlideIn 0.3s ease;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-20px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .modal-header {
            text-align: center;
            margin-bottom: 25px;
        }

        .modal-title {
            font-size: 24px;
            font-weight: bold;
            color: var(--warning);
            margin-bottom: 10px;
        }

        .modal-content {
            color: var(--text-secondary);
            line-height: 1.6;
            margin-bottom: 30px;
        }

        .modal-actions {
            display: flex;
            gap: 15px;
            justify-content: center;
        }

        .modal-btn {
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .modal-btn-primary {
            background: var(--gradient-1);
            color: var(--bg-darker);
        }

        .modal-btn-secondary {
            background: transparent;
            border: 2px solid var(--border);
            color: var(--text-secondary);
        }

        .modal-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
        }

        /* Mobile Responsive */
        @media (max-width: 1200px) {
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
            
            .sub-agents-grid {
                grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            }

            .performance-modules {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
            }
            
            .encryption-badges {
                order: -1;
                justify-content: center;
            }
            
            .nav-tabs {
                overflow-x: scroll;
                -webkit-overflow-scrolling: touch;
            }
            
            .ai-chat-window {
                width: calc(100vw - 40px);
                height: calc(100vh - 120px);
                right: -20px;
                bottom: 80px;
            }

            .sub-agents-grid {
                grid-template-columns: 1fr;
            }

            .intel-grid {
                grid-template-columns: 1fr;
            }

            .banner-content {
                gap: 20px;
            }

            .banner-stat {
                padding: 8px 16px;
                gap: 12px;
            }

            .banner-stat-icon {
                font-size: 20px;
            }

            .banner-stat-value {
                font-size: 16px;
            }

            .banner-stat-label {
                font-size: 11px;
            }

            .performance-modules {
                grid-template-columns: 1fr;
            }

            .module-metrics {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--secondary);
        }
    </style>
</head>
<body>
    <script>
        // Check authentication
        const auth = localStorage.getItem('sentinel_auth');
        if (!auth) {
            window.location.href = 'index.html';
        } else {
            const authData = JSON.parse(auth);
            if (Date.now() - authData.timestamp > 24 * 60 * 60 * 1000) {
                localStorage.removeItem('sentinel_auth');
                window.location.href = 'index.html';
            }
        }
    </script>

    <!-- Neural Network Background -->
    <canvas id="neuralCanvas"></canvas>

    <!-- Container -->
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="header-left">
                    <div class="logo-container">
                        <div class="rotating-dots">
                            <span class="dot"></span>
                            <span class="dot"></span>
                            <span class="dot"></span>
                        </div>
                        <div class="logo-shield">
                            <div class="logo-eye">
                                <div class="logo-iris"></div>
                            </div>
                        </div>
                    </div>
                    <div class="brand-info">
                        <h1 class="brand-name">AI SENTINEL-X</h1>
                        <p class="brand-tagline">Autonomous Cyber Defense</p>
                    </div>
                </div>
                <div class="header-right">
                    <div class="encryption-badges">
                        <div class="encryption-badge classical">
                            <div class="status-light active" id="classicalStatus"></div>
                            <span>CLASSICAL</span>
                        </div>
                        <div class="encryption-badge quantum">
                            <div class="status-light active" id="quantumStatus"></div>
                            <span>HYBRID</span>
                        </div>
                    </div>
                    <div class="agent-status" onclick="showAgentShutdownModal()">
                        <span class="agent-icon">ü§ñ</span>
                        <div class="agent-info">
                            <span class="agent-title">AI Agent Active</span>
                            <span class="agent-status-text" id="agentModeText">Autonomous with Manual Override</span>
                        </div>
                    </div>
                    <button class="logout-btn" onclick="handleLogout()">Logout</button>
                </div>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="nav-tabs">
            <a href="#" class="nav-tab active">
                <span>üè†</span>
                <span>Dashboard</span>
            </a>
            <a href="threats.html" class="nav-tab">
                <span>üõ°Ô∏è</span>
                <span>Threats</span>
            </a>
            <a href="network.html" class="nav-tab">
                <span>üåê</span>
                <span>Network</span>
            </a>
            <a href="defense.html" class="nav-tab">
                <span>‚öîÔ∏è</span>
                <span>Defense</span>
            </a>
            <a href="ai-engine.html" class="nav-tab">
                <span>üß†</span>
                <span>AI Engine</span>
            </a>
            <a href="encryption.html" class="nav-tab">
                <span>üîê</span>
                <span>Encryption</span>
            </a>
            <a href="analytics.html" class="nav-tab">
                <span>üìä</span>
                <span>Analytics</span>
            </a>
            <a href="vpn.html" class="nav-tab">
                <span>üîí</span>
                <span>VPNMonitor</span>
            </a>
            <a href="settings.html" class="nav-tab">
                <span>‚öôÔ∏è</span>
                <span>Settings</span>
            </a>
        </nav>

        <!-- System Status Banner -->
        <div class="system-status-banner">
            <div class="banner-content">
                <div class="banner-stat">
                    <div class="banner-stat-icon">üõ°Ô∏è</div>
                    <div class="banner-stat-content">
                        <div class="banner-stat-value">247 Devices</div>
                        <div class="banner-stat-label">Protected</div>
                    </div>
                </div>
                <div class="banner-stat">
                    <div class="banner-stat-icon">üîê</div>
                    <div class="banner-stat-content">
                        <div class="banner-stat-value">Hybrid Mode</div>
                        <div class="banner-stat-label">Encryption Active</div>
                    </div>
                </div>
                <div class="banner-stat">
                    <div class="banner-stat-icon">‚ö°</div>
                    <div class="banner-stat-content">
                        <div class="banner-stat-value">0.3s</div>
                        <div class="banner-stat-label">Response Time</div>
                    </div>
                </div>
                <div class="banner-stat">
                    <div class="banner-stat-icon">üîí</div>
                    <div class="banner-stat-content">
                        <div class="banner-stat-value">12 VPN</div>
                        <div class="banner-stat-label">Connections</div>
                    </div>
                </div>
                <div class="banner-stat">
                    <div class="banner-stat-icon">üõ∞Ô∏è</div>
                    <div class="banner-stat-content">
                        <div class="banner-stat-value">Global Intel</div>
                        <div class="banner-stat-label">Network Sync</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Dashboard Grid -->
        <div class="dashboard-grid">
            <!-- Left Column -->
            <div class="left-column">
                <!-- AI Agent Command Center -->
                <div class="agent-command-center">
                    <div class="command-center-header">
                        <h2 class="command-center-title">AI Agent Command Center</h2>
                        <span style="color: var(--text-secondary); font-size: 14px;">Orchestrating all operations</span>
                    </div>
                    
                    <!-- Main Agent -->
                    <div class="main-agent-card" onclick="showMainAgentDetails()">
                        <div class="main-agent-content">
                            <div class="main-agent-icon">ü§ñ</div>
                            <div class="main-agent-info">
                                <div class="main-agent-name">Main Agent</div>
                                <div class="main-agent-description">Central AI orchestrating all sub-agents and security operations with advanced encryption</div>
                                <div class="main-agent-stats">
                                    <div class="agent-stat">
                                        <div class="stat-value" id="subAgentCountCard">10</div>
                                        <div class="stat-label">Sub-Agents</div>
                                    </div>
                                    <div class="agent-stat">
                                        <div class="stat-value" id="decisionsPerMin">2.4K</div>
                                        <div class="stat-label">Decisions/Min</div>
                                    </div>
                                    <div class="agent-stat">
                                        <div class="stat-value">99.8%</div>
                                        <div class="stat-label">Accuracy</div>
                                    </div>
                                    <div class="agent-stat">
                                        <div class="stat-value" id="systemUptimeCard">99.98%</div>
                                        <div class="stat-label">Uptime</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Sub-Agents Section Header -->
                    <div class="sub-agents-header">
                        <div class="sub-agents-title">
                            <span>üîó</span>
                            <span>Sub-Agent Network</span>
                        </div>
                        <div class="sub-agents-subtitle">Specialized AI modules coordinated by Main Agent ‚Ä¢ VPNMonitor now active</div>
                    </div>
                    
                    <!-- Sub-Agents Grid -->
                    <div class="sub-agents-grid" id="subAgentsGrid">
                        <!-- Sub-agents will be populated by JavaScript from shared.js -->
                    </div>
                </div>
            </div>

            <!-- Right Column -->
            <div class="right-column">
                <!-- Security Feed -->
                <div class="security-feed">
                    <div class="feed-header">
                        <h2 class="feed-title">Live Security Feed</h2>
                        <div class="live-indicator">
                            <div class="live-dot"></div>
                            <span>LIVE</span>
                        </div>
                    </div>
                    <div class="feed-content" id="securityFeed">
                        <!-- Feed items will be populated by JavaScript -->
                    </div>
                </div>

                <!-- Global Intelligence Network Module -->
                <div class="global-intel-module">
                    <div class="intel-header">
                        <h2 class="intel-title">
                            <span>üõ∞Ô∏è</span>
                            <span>Global Intelligence Network</span>
                        </h2>
                        <div class="intel-badge">Live Sync Active</div>
                    </div>
                    <div class="intel-grid">
                        <div class="intel-item">
                            <div class="intel-icon">üß†</div>
                            <div class="intel-content">
                                <div class="intel-label">AI Network Sync</div>
                                <div class="intel-value">Connected to global threat intelligence ‚Ä¢ Real-time updates</div>
                            </div>
                            <div class="intel-indicator active"></div>
                        </div>
                        <div class="intel-item">
                            <div class="intel-icon">üîÑ</div>
                            <div class="intel-content">
                                <div class="intel-label">Sub-Agent Coordination</div>
                                <div class="intel-value">All 10 agents validated with network ‚Ä¢ Last sync: 2m ago</div>
                            </div>
                            <div class="intel-indicator active"></div>
                        </div>
                        <div class="intel-item">
                            <div class="intel-icon">üõ°Ô∏è</div>
                            <div class="intel-content">
                                <div class="intel-label">Security Directive</div>
                                <div class="intel-value">Auto-rotate encryption keys ‚Ä¢ Deployed 14:23 UTC</div>
                            </div>
                            <div class="intel-indicator active"></div>
                        </div>
                        <div class="intel-item">
                            <div class="intel-icon">üì°</div>
                            <div class="intel-content">
                                <div class="intel-label">Global Threat Feed</div>
                                <div class="intel-value">No critical alerts ‚Ä¢ 2,847 threats processed globally</div>
                            </div>
                            <div class="intel-indicator active"></div>
                        </div>
                        <div class="intel-item">
                            <div class="intel-icon">üîê</div>
                            <div class="intel-content">
                                <div class="intel-label">Encryption Fleet Status</div>
                                <div class="intel-value">92% of nodes in compliance ‚Ä¢ 247/268 agents</div>
                            </div>
                            <div class="intel-indicator warning"></div>
                        </div>
                        <div class="intel-item">
                            <div class="intel-icon">üîí</div>
                            <div class="intel-content">
                                <div class="intel-label">VPN Security Network</div>
                                <div class="intel-value">12 active connections monitored ‚Ä¢ All encrypted</div>
                            </div>
                            <div class="intel-indicator active"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Performance Modules -->
        <div class="performance-modules">
            <!-- Threat Intelligence Module -->
            <div class="performance-module">
                <div class="module-header">
                    <div class="module-title">
                        <span class="module-icon">üéØ</span>
                        <span>Threat Intelligence</span>
                    </div>
                    <div class="module-status optimal">Optimal</div>
                </div>
                <div class="module-metrics">
                    <div class="metric-item">
                        <div class="metric-value" id="threatCount">7</div>
                        <div class="metric-label">Active Threats</div>
                        <div class="metric-trend trend-down">
                            <span>‚Üò</span>
                            <span>-12%</span>
                        </div>
                    </div>
                    <div class="metric-item">
                        <div class="metric-value" id="blockedCount">12.4K</div>
                        <div class="metric-label">Attacks Blocked</div>
                        <div class="metric-trend trend-up">
                            <span>‚Üó</span>
                            <span>+15%</span>
                        </div>
                    </div>
                    <div class="metric-item">
                        <div class="metric-value">99.8%</div>
                        <div class="metric-label">Detection Rate</div>
                        <div class="metric-trend trend-stable">
                            <span>‚Üí</span>
                            <span>Stable</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Network Security Module -->
            <div class="performance-module">
                <div class="module-header">
                    <div class="module-title">
                        <span class="module-icon">üåê</span>
                        <span>Network Security</span>
                    </div>
                    <div class="module-status optimal">Optimal</div>
                </div>
                <div class="module-metrics">
                    <div class="metric-item">
                        <div class="metric-value" id="deviceCountMetric">247</div>
                        <div class="metric-label">Protected Devices</div>
                        <div class="metric-trend trend-up">
                            <span>‚Üó</span>
                            <span>+3 today</span>
                        </div>
                    </div>
                    <div class="metric-item">
                        <div class="metric-value">99.98%</div>
                        <div class="metric-label">Uptime</div>
                        <div class="metric-trend trend-stable">
                            <span>‚Üí</span>
                            <span>847 days</span>
                        </div>
                    </div>
                    <div class="metric-item">
                        <div class="metric-value">0.3s</div>
                        <div class="metric-label">Response Time</div>
                        <div class="metric-trend trend-stable">
                            <span>‚Üí</span>
                            <span>Optimal</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Encryption Performance Module -->
            <div class="performance-module">
                <div class="module-header">
                    <div class="module-title">
                        <span class="module-icon">üîê</span>
                        <span>Encryption Performance</span>
                    </div>
                    <div class="module-status optimal">Optimal</div>
                </div>
                <div class="module-metrics">
                    <div class="metric-item">
                        <div class="metric-value" id="encryptionOps">2.1M</div>
                        <div class="metric-label">Crypto Ops/Sec</div>
                        <div class="metric-trend trend-stable">
                            <span>‚Üí</span>
                            <span>Optimal</span>
                        </div>
                    </div>
                    <div class="metric-item">
                        <div class="metric-value" id="deploymentCount">47</div>
                        <div class="metric-label">Deployments Today</div>
                        <div class="metric-trend trend-up">
                            <span>‚Üó</span>
                            <span>Above avg</span>
                        </div>
                    </div>
                    <div class="metric-item">
                        <div class="metric-value">100%</div>
                        <div class="metric-label">Key Rotation</div>
                        <div class="metric-trend trend-stable">
                            <span>‚Üí</span>
                            <span>Scheduled</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- AI Processing Module -->
            <div class="performance-module">
                <div class="module-header">
                    <div class="module-title">
                        <span class="module-icon">üß†</span>
                        <span>AI Processing</span>
                    </div>
                    <div class="module-status optimal">Optimal</div>
                </div>
                <div class="module-metrics">
                    <div class="metric-item">
                        <div class="metric-value" id="decisionsPerMinCard">2.4K</div>
                        <div class="metric-label">Decisions/Min</div>
                        <div class="metric-trend trend-up">
                            <span>‚Üó</span>
                            <span>+8%</span>
                        </div>
                    </div>
                    <div class="metric-item">
                        <div class="metric-value">99.8%</div>
                        <div class="metric-label">Model Accuracy</div>
                        <div class="metric-trend trend-stable">
                            <span>‚Üí</span>
                            <span>Optimal</span>
                        </div>
                    </div>
                    <div class="metric-item">
                        <div class="metric-value">10</div>
                        <div class="metric-label">Agents Online</div>
                        <div class="metric-trend trend-stable">
                            <span>‚Üí</span>
                            <span>100%</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Agent Shutdown Modal -->
    <div class="modal-overlay" id="agentShutdownModal" onclick="closeModalOnOverlay(event)">
        <div class="modal">
            <div class="modal-header">
                <h2 class="modal-title">‚ö†Ô∏è Agent Control Toggle</h2>
            </div>
            <div class="modal-content">
                Toggle autonomous mode? When paused, manual control remains available through the AI chat bot CLI. System will fallback to local control mode if external APIs are offline.
            </div>
            <div class="modal-actions">
                <button class="modal-btn modal-btn-primary" onclick="confirmAgentShutdown()">Toggle Agent Mode</button>
                <button class="modal-btn modal-btn-secondary" onclick="closeModal()">Cancel</button>
            </div>
        </div>
    </div>

    <!-- AI Chat Widget -->
    <div class="ai-chat-widget">
        <div class="ai-chat-window" id="aiChatWindow">
            <div class="ai-chat-header">
                <div class="ai-chat-status">
                    <span class="chat-status-dot"></span>
                    <span>MAIN AGENT ONLINE</span>
                </div>
                <button class="ai-chat-close" onclick="toggleChat()">√ó</button>
            </div>
            <div class="cli-mode-indicator" id="cliModeIndicator">
                ‚ö†Ô∏è CLI MODE - Main Agent Offline
            </div>
            <div class="ai-chat-messages" id="aiChatMessages">
                <div class="ai-message">
                    <div class="ai-message-bubble">
                        Welcome to AI Sentinel-X. I'm the Main Agent coordinating 10 sub-agents including VPNMonitor and encryption specialists. Global Intelligence Network sync active with real-time threat updates.
                    </div>
                    <div class="ai-message-time">Just now</div>
                </div>
            </div>
            <div class="ai-chat-input-container">
                <input 
                    type="text" 
                    class="ai-chat-input" 
                    id="aiChatInput" 
                    placeholder="Command the Main Agent"
                    onkeypress="handleChatKeyPress(event)"
                >
                <button class="ai-chat-send" id="aiChatSend" onclick="sendChatMessage()">SEND</button>
            </div>
        </div>
        <button class="ai-chat-toggle" onclick="toggleChat()">ü§ñ</button>
    </div>

    <script src="shared.js"></script>
    <script>
        // Dashboard-specific initialization
        document.addEventListener('DOMContentLoaded', () => {
            initializeDashboard();
        });

        function initializeDashboard() {
            // Populate sub-agents from shared.js
            populateSubAgents();
            
            // Initialize security feed
            initializeSecurityFeed();
            
            // Initialize Global Intelligence Network
            initializeGlobalIntelligence();
            
            // Start feed auto-generation
            setInterval(() => {
                generateRandomFeedItem();
            }, 5000);
            
            // Update metrics periodically
            setInterval(() => {
                updateDashboardMetrics();
            }, 3000);

            // Update Global Intelligence status indicators
            setInterval(() => {
                updateIntelStatusIndicators();
            }, 8000);

            // Simulate encryption status changes occasionally
            setInterval(() => {
                if (Math.random() > 0.97) {
                    simulateEncryptionStatusChange();
                }
            }, 10000);
        }

        function populateSubAgents() {
            const grid = document.getElementById('subAgentsGrid');
            grid.innerHTML = '';

            Object.keys(SubAgentConfigs).forEach(agentKey => {
                const agent = SubAgentConfigs[agentKey];
                
                const card = document.createElement('div');
                card.className = 'sub-agent-card';
                card.onclick = () => window.location.href = agent.link;
                
                card.innerHTML = `
                    <div class="sub-agent-manage-btn" onclick="event.stopPropagation(); manageAgent('${agentKey}')">Manage</div>
                    <div class="sub-agent-card-content">
                        <div class="sub-agent-card-icon">${agent.icon}</div>
                        <div class="sub-agent-card-info">
                            <div class="sub-agent-card-name">${agent.name}</div>
                            <div class="sub-agent-card-description">${agent.description}</div>
                            <div class="sub-agent-card-activity">
                                <span class="activity-dot"></span>
                                <span>${agent.activity}</span>
                            </div>
                        </div>
                    </div>
                `;
                
                grid.appendChild(card);
            });
        }

        function manageAgent(agentKey) {
            const agent = SubAgentConfigs[agentKey];
            if (sentinelChat && !SentinelState.chatOpen) {
                sentinelChat.toggle();
            }
            setTimeout(() => {
                sentinelChat?.addMessage(`Accessing ${agent.name} management interface...`, false, 'system');
                setTimeout(() => {
                    sentinelChat?.addMessage(`${agent.name}: ${agent.description}. Status: ${agent.status}. Use "help" for available commands.`, false);
                }, 800);
            }, 300);
        }

        function initializeSecurityFeed() {
            addFeedItem('ü§ñ Main Agent initialized. All 10 sub-agents online.', '', 'Main Agent');
            addFeedItem('üîê Advanced encryption active: Classical + Post-Quantum', 'encryption', 'EncryptionManager');
            addFeedItem('üîí VPNMonitor: 12 active connections monitored', '', 'VPNMonitor');
            addFeedItem('üîß EncryptionDeployer: 3/4 modules deployed successfully', 'encryption', 'EncryptionDeployer');
            addFeedItem('üìú CertificateManager: 2 certificates expiring within 30 days', 'warning', 'CertificateManager');
            addFeedItem('‚úÖ ComplianceMonitor: SOC2 and ISO27001 compliance verified', '', 'ComplianceMonitor');
            addFeedItem('üõ°Ô∏è ThreatScanner detected suspicious activity on port 445', 'warning', 'ThreatScanner');
        }

        function initializeGlobalIntelligence() {
            // Initialize Global Intelligence Network with realistic status updates
            updateIntelStatusIndicators();
            
            // Add periodic updates for intelligence items
            setInterval(() => {
                updateGlobalIntelligenceItems();
            }, 15000);
        }

        function updateGlobalIntelligenceItems() {
            // Update sync times and data in intelligence items
            const syncItems = document.querySelectorAll('.intel-value');
            if (syncItems.length >= 2) {
                const lastSyncMinutes = Math.floor(Math.random() * 5 + 1);
                syncItems[1].textContent = `All 10 agents validated with network ‚Ä¢ Last sync: ${lastSyncMinutes}m ago`;
            }
            
            if (syncItems.length >= 4) {
                const threatsProcessed = Math.floor(Math.random() * 500 + 2500);
                syncItems[3].textContent = `No critical alerts ‚Ä¢ ${threatsProcessed.toLocaleString()} threats processed globally`;
            }
        }

        function addFeedItem(message, type = '', agent = '') {
            const feed = document.getElementById('securityFeed');
            const item = document.createElement('div');
            item.className = `feed-item ${type}`;
            
            const time = new Date().toLocaleTimeString();
            item.innerHTML = `
                <div class="feed-time">${time}</div>
                <div class="feed-message">${message}</div>
                ${agent ? `<div class="feed-agent">via ${agent}</div>` : ''}
            `;
            
            feed.insertBefore(item, feed.firstChild);
            
            // Keep only last 10 items
            while (feed.children.length > 10) {
                feed.removeChild(feed.lastChild);
            }
        }

        // Enhanced feed messages including VPNMonitor and Global Intelligence
        const feedMessages = [
            { msg: 'üõ°Ô∏è Blocked SQL injection attempt on /api/users', type: 'danger', agent: 'ThreatScanner' },
            { msg: 'üåê New device discovered: 192.168.1.' + Math.floor(Math.random() * 254), type: '', agent: 'NetworkMapper' },
            { msg: 'üîê Key rotation completed. Kyber-1024 + AES-256', type: 'encryption', agent: 'EncryptionManager' },
            { msg: 'üîß Encryption deployed to ' + Math.floor(Math.random() * 5 + 1) + ' new devices', type: 'encryption', agent: 'EncryptionDeployer' },
            { msg: 'üìú Certificate auto-renewed for *.sentinel-x.com', type: 'encryption', agent: 'CertificateManager' },
            { msg: '‚úÖ Compliance scan completed: ' + Math.floor(Math.random() * 3 + 97) + '% score', type: '', agent: 'ComplianceMonitor' },
            { msg: 'üîí VPN connection from ' + ['Germany', 'Japan', 'Canada', 'UK', 'Australia'][Math.floor(Math.random() * 5)] + ' authenticated', type: '', agent: 'VPNMonitor' },
            { msg: 'üîí VPN certificate renewal for client ' + Math.floor(Math.random() * 99 + 1), type: 'encryption', agent: 'VPNMonitor' },
            { msg: 'üîí Suspicious VPN login attempt blocked from ' + Math.floor(Math.random() * 255) + '.' + Math.floor(Math.random() * 255) + '.*.*', type: 'warning', agent: 'VPNMonitor' },
            { msg: '‚öîÔ∏è Honeypot triggered by external scanner', type: 'warning', agent: 'DefenseOrchestrator' },
            { msg: 'üìä AI model accuracy: 99.' + Math.floor(Math.random() * 9) + '%', type: '', agent: 'AnalyticsEngine' },
            { msg: 'üìù Audit log signed with Dilithium-3 signature', type: '', agent: 'LogAgent' },
            { msg: 'üß† Neural pattern learned from new attack vector', type: '', agent: 'AI Engine' },
            { msg: 'üéØ Predicted attack pattern, preemptive defense deployed', type: 'warning', agent: 'ThreatScanner' },
            { msg: '‚úÖ System health check passed. All agents operational', type: '', agent: 'Main Agent' },
            { msg: 'üõ∞Ô∏è Global Intelligence: Threat signature update received', type: '', agent: 'Global Network' },
            { msg: 'üîê Global Intelligence: Fleet-wide encryption update distributed', type: 'encryption', agent: 'Global Network' },
            { msg: 'üì° Global Intelligence: Network correlation analysis complete', type: '', agent: 'Global Network' },
            { msg: 'üåç Global Intelligence: Regional threat assessment updated', type: 'warning', agent: 'Global Network' }
        ];

        function generateRandomFeedItem() {
            const item = feedMessages[Math.floor(Math.random() * feedMessages.length)];
            addFeedItem(item.msg, item.type, item.agent);
        }

        function updateDashboardMetrics() {
            // Occasionally change threat count
            if (Math.random() > 0.9) {
                const threatEl = document.getElementById('threatCount');
                const current = parseInt(threatEl.textContent);
                threatEl.textContent = Math.max(0, current + Math.floor(Math.random() * 3 - 1));
            }
            
            // Update device count
            if (Math.random() > 0.95) {
                const deviceElMetric = document.getElementById('deviceCountMetric');
                const current = parseInt(deviceElMetric.textContent);
                const newCount = current + Math.floor(Math.random() * 3);
                deviceElMetric.textContent = newCount;
            }
            
            // Update blocked count
            const blockedEl = document.getElementById('blockedCount');
            const blocked = parseFloat(blockedEl.textContent.replace('K', ''));
            blockedEl.textContent = (blocked + 0.1).toFixed(1) + 'K';
            
            // Update crypto ops
            const cryptoEl = document.getElementById('encryptionOps');
            const ops = 2.0 + Math.random() * 0.3;
            cryptoEl.textContent = ops.toFixed(1) + 'M';

            // Update decisions per minute
            const decisionsEl = document.getElementById('decisionsPerMin');
            const decisions = 2.3 + Math.random() * 0.3;
            decisionsEl.textContent = decisions.toFixed(1) + 'K';

            // Update decisions per minute card
            const decisionsCardEl = document.getElementById('decisionsPerMinCard');
            if (decisionsCardEl) {
                decisionsCardEl.textContent = decisions.toFixed(1) + 'K';
            }

            // Update deployment count
            const deploymentEl = document.getElementById('deploymentCount');
            if (Math.random() > 0.92) {
                const current = parseInt(deploymentEl.textContent);
                deploymentEl.textContent = current + 1;
            }
        }

        function simulateEncryptionStatusChange() {
            // Rarely simulate an encryption layer going offline
            if (Math.random() > 0.8) {
                const classicalStatus = document.getElementById('classicalStatus');
                const quantumStatus = document.getElementById('quantumStatus');
                
                if (Math.random() > 0.5) {
                    // Classical layer issue
                    classicalStatus.className = 'status-light inactive';
                    addFeedItem('‚ö†Ô∏è Classical encryption layer temporarily offline - switching to hybrid-only mode', 'warning', 'EncryptionManager');
                    
                    // Restore after 3 seconds
                    setTimeout(() => {
                        classicalStatus.className = 'status-light active';
                        addFeedItem('‚úÖ Classical encryption layer restored - hybrid mode active', 'encryption', 'EncryptionManager');
                    }, 3000);
                } else {
                    // Quantum layer issue
                    quantumStatus.className = 'status-light inactive';
                    addFeedItem('‚ö†Ô∏è Hybrid encryption layer recalibrating - maintaining classical protection', 'warning', 'EncryptionManager');
                    
                    // Restore after 3 seconds
                    setTimeout(() => {
                        quantumStatus.className = 'status-light active';
                        addFeedItem('‚úÖ Hybrid encryption layer online - dual-layer protection restored', 'encryption', 'EncryptionManager');
                    }, 3000);
                }
            }
        }

        function updateIntelStatusIndicators() {
            // Occasionally update Global Intelligence status indicators
            const indicators = document.querySelectorAll('.intel-indicator');
            indicators.forEach(indicator => {
                if (Math.random() > 0.95) {
                    // Briefly show warning state
                    indicator.className = 'intel-indicator warning';
                    setTimeout(() => {
                        indicator.className = 'intel-indicator active';
                    }, 2000);
                }
            });
        }

        function showMainAgentDetails() {
            if (!SentinelState.chatOpen && sentinelChat) {
                sentinelChat.toggle();
            }
            setTimeout(() => {
                sentinelChat?.addMessage('Main Agent: Central AI orchestrating 10 sub-agents including VPNMonitor and encryption specialists. Currently coordinating ThreatScanner, NetworkMapper, DefenseOrchestrator, EncryptionManager, EncryptionDeployer, CertificateManager, ComplianceMonitor, VPNMonitor, AnalyticsEngine, and LogAgent. All communications protected with advanced encryption. Global Intelligence Network sync active with real-time threat intelligence.', false);
            }, 300);
        }

        // Global functions for compatibility - leverage shared.js
        window.toggleChat = () => sentinelChat?.toggle();
        window.sendChatMessage = () => {
            const input = document.getElementById('aiChatInput');
            if (input && input.value.trim()) {
                sentinelChat?.sendMessage(input.value.trim());
                input.value = '';
            }
        };
        window.handleChatKeyPress = (e) => {
            if (e.key === 'Enter') {
                sendChatMessage();
            }
        };
        window.showAgentShutdownModal = () => document.getElementById('agentShutdownModal').style.display = 'flex';
        window.closeModal = () => document.getElementById('agentShutdownModal').style.display = 'none';
        window.closeModalOnOverlay = (e) => {if (e.target.classList.contains('modal-overlay')) closeModal();};
        window.confirmAgentShutdown = () => {
            SentinelState.agentActive = !SentinelState.agentActive;
            
            // Update UI elements
            const agentStatus = document.querySelector('.agent-status');
            const agentTitle = document.querySelector('.agent-title');
            const agentStatusText = document.querySelector('.agent-status-text');
            
            if (SentinelState.agentActive) {
                agentStatus.style.background = 'rgba(0, 255, 136, 0.1)';
                agentStatus.style.borderColor = '#00ff88';
                agentTitle.textContent = 'AI Agent Active';
                agentTitle.style.color = 'var(--primary)';
                agentStatusText.textContent = 'Autonomous with Manual Override';
            } else {
                agentStatus.style.background = 'rgba(255, 170, 0, 0.1)';
                agentStatus.style.borderColor = '#ffaa00';
                agentTitle.textContent = 'AI Agent Paused';
                agentTitle.style.color = '#ffaa00';
                agentStatusText.textContent = 'Manual Control Only';
            }
            
            closeModal();
            
            if (SentinelState.chatOpen && sentinelChat) {
                const status = SentinelState.agentActive ? 'resumed autonomous operation' : 'switched to manual control mode';
                sentinelChat.addMessage(`‚ö†Ô∏è Main Agent has ${status}. CLI mode available if external connections fail. Global Intelligence Network sync ${SentinelState.agentActive ? 'maintained' : 'reduced'}.`, false, 'system');
            }

            // Update Global Intelligence feed based on agent status
            if (SentinelState.agentActive) {
                addFeedItem('üõ∞Ô∏è Global Intelligence: Agent resumed, full network coordination restored', 'encryption', 'Global Network');
            } else {
                addFeedItem('‚ö†Ô∏è Global Intelligence: Agent paused, local control mode active', 'warning', 'Global Network');
            }
        };
        window.handleLogout = () => {
            if (confirm('Are you sure you want to logout? The AI agent will continue protecting your network autonomously with Global Intelligence oversight.')) {
                localStorage.removeItem('sentinel_auth');
                localStorage.removeItem('sentinel_scale');
                window.location.href = 'index.html';
            }
        };
    </script>
</body>
</html>
